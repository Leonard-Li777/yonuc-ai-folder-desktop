# 가상 디렉토리 가이드

## 개요

`.VirtualDirectory`는 본 애플리케이션에 의해 자동으로 생성되는 가상 디렉토리로, 지능적으로 정리된 후의 파일 구조를 표시하는 데 사용됩니다. 원본 디렉토리의 파일과 1:1 대응 관계를 유지하면서도 지능적인 명명을 사용합니다.

## 목적

이 가상 디렉토리의 주요 목적은 사용자가 원본 파일을 실제로 이동하거나 복사하지 않고도 파일 정리 결과를 미리 볼 수 있도록 하는 것입니다.
최종 결과에 만족하는 경우 "실제 디렉토리 정리"를 클릭하여 실제 디렉토리를 .VirtualDirectory와 동일한 파일 구조로 정리할 수 있으며, 이후 본 애플리케이션은 .VirtualDirectory 디렉토리를 삭제합니다.

## 기술 원리

### 하드 링크 기술

가상 디렉토리 내의 파일은 하드 링크 기술을 사용하여 생성됩니다. 하드 링크는 파일의 참조 또는 별칭으로 간단히 이해할 수 있으며, 다음과 같은 특징이 있습니다:

1. 추가적인 물리적 디스크 공간을 차지하지 않음
2. 원본 파일과 동일한 데이터 블록을 공유함
3. 하드 링크된 파일에 대한 수정이 원본 파일에 동기화됨
4. 하드 링크된 파일을 삭제해도 원본 파일에는 영향이 없음
5. 원본 파일을 삭제할 때는 하드 링크된 파일도 삭제해야 함 (본 애플리케이션은 실제 디렉토리의 파일 삭제를 적극적으로 감지하고 이에 따라 가상 디렉토리의 하드 링크된 파일을 삭제합니다.)

### 바로 가기와의 차이점

하드 링크는 어느 정도 바로 가기와 유사하지만 중요한 차이점이 있습니다:

| 특성 | 바로 가기 | 하드 링크 |
|------|----------|----------|
| 파일 시스템 레벨 | Windows 전용 개념 | 운영체제 파일 시스템 기능 |
| 점유 공간 | 극소 (메타데이터만) | 추가 공간 없음 |
| 원본 파일 삭제 시 | 바로 가기가 무효화됨 | 하드 링크로 파일 내용 접근 가능 |
| 내용 수정 시 | 원본 파일에 영향 없음 | 모든 링크에 동기화 |
| 볼륨 간 지원 | 지원됨 | 동일 파일 시스템에 한함 |